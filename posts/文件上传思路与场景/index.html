<!DOCTYPE html>
<html lang="zh-cn">
  <head>
    
      <title>
        文件上传（思路与场景） ::
        打工人. — 为了更美好的明天!
      </title>
    
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<meta
  name="description"
  content="文件上传（思路与场景） 文件上传规则 客户端 请求方式: POST
请求头: Content-Type：mutipart/form-data；boundary=分割字符串
请求体： 由boundary分割表单项，表单项由Content-Type和Content-Disposition组成
Content-Disposition: form-data 为固定值，表示一个表单元素，name表单字段名（可以重名，例如选择多张图片）， filename，文件初始名称
Content-Type：表示当前的内容的 MIME 类型，是图片还是文本还是二进制数据。
## 请求头 4个- Content-Type: multipart/form-data; boundary=----WebKitFormBoundarygfkSSPeA0dkEB1OD ## 请求体 6个- ------WebKitFormBoundarygfkSSPeA0dkEB1OD Content-Disposition: form-data; name=&amp;#34;f1&amp;#34;; filename=&amp;#34;wallhaven-e7zqro.jpg&amp;#34; Content-Type: image/jpeg ------WebKitFormBoundarygfkSSPeA0dkEB1OD Content-Disposition: form-data; name=&amp;#34;f1&amp;#34;; filename=&amp;#34;wallhaven-eyxzxr.jpg&amp;#34; Content-Type: image/jpeg ------WebKitFormBoundarygfkSSPeA0dkEB1OD-- 服务端   获取到boundary
  合并二进制数据
  根据boundary等规则，取出数据和信息
  function bufferSplit(buffer, delimiter) { let arr = []; let n = 0; // 当分隔符存在时  while ((n = buffer."
/>
<meta
  name="keywords"
  content=""
/>
<meta name="robots" content="noodp" />
<link rel="canonical" href="https://liu-zhi-fei.github.io/posts/%E6%96%87%E4%BB%B6%E4%B8%8A%E4%BC%A0%E6%80%9D%E8%B7%AF%E4%B8%8E%E5%9C%BA%E6%99%AF/" />





<link rel="stylesheet" href="https://liu-zhi-fei.github.io/assets/style.css" />

<link rel="stylesheet" href="https://liu-zhi-fei.github.io/style.css" />


<link
  rel="apple-touch-icon-precomposed"
  sizes="144x144"
  href="https://liu-zhi-fei.github.io/img/apple-touch-icon-144-precomposed.png"
/>
<link rel="shortcut icon" href="https://liu-zhi-fei.github.io/img/favicon.png" />


<link href="https://liu-zhi-fei.github.io/assets/fonts/Inter-Italic.woff2" rel="preload" type="font/woff2" as="font" crossorigin="">
<link href="https://liu-zhi-fei.github.io/assets/fonts/Inter-Regular.woff2" rel="preload" type="font/woff2" as="font" crossorigin="">
<link href="https://liu-zhi-fei.github.io/assets/fonts/Inter-Medium.woff2" rel="preload" type="font/woff2" as="font" crossorigin="">
<link href="https://liu-zhi-fei.github.io/assets/fonts/Inter-MediumItalic.woff2" rel="preload" type="font/woff2" as="font" crossorigin="">
<link href="https://liu-zhi-fei.github.io/assets/fonts/Inter-Bold.woff2" rel="preload" type="font/woff2" as="font" crossorigin="">
<link href="https://liu-zhi-fei.github.io/assets/fonts/Inter-BoldItalic.woff2" rel="preload" type="font/woff2" as="font" crossorigin="">


<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="文件上传（思路与场景）"/>
<meta name="twitter:description" content="文件上传（思路与场景） 文件上传规则 客户端 请求方式: POST
请求头: Content-Type：mutipart/form-data；boundary=分割字符串
请求体： 由boundary分割表单项，表单项由Content-Type和Content-Disposition组成
Content-Disposition: form-data 为固定值，表示一个表单元素，name表单字段名（可以重名，例如选择多张图片）， filename，文件初始名称
Content-Type：表示当前的内容的 MIME 类型，是图片还是文本还是二进制数据。
## 请求头 4个- Content-Type: multipart/form-data; boundary=----WebKitFormBoundarygfkSSPeA0dkEB1OD ## 请求体 6个- ------WebKitFormBoundarygfkSSPeA0dkEB1OD Content-Disposition: form-data; name=&#34;f1&#34;; filename=&#34;wallhaven-e7zqro.jpg&#34; Content-Type: image/jpeg ------WebKitFormBoundarygfkSSPeA0dkEB1OD Content-Disposition: form-data; name=&#34;f1&#34;; filename=&#34;wallhaven-eyxzxr.jpg&#34; Content-Type: image/jpeg ------WebKitFormBoundarygfkSSPeA0dkEB1OD-- 服务端   获取到boundary
  合并二进制数据
  根据boundary等规则，取出数据和信息
  function bufferSplit(buffer, delimiter) { let arr = []; let n = 0; // 当分隔符存在时  while ((n = buffer."/>



<meta property="og:title" content="文件上传（思路与场景）" />
<meta property="og:description" content="文件上传（思路与场景） 文件上传规则 客户端 请求方式: POST
请求头: Content-Type：mutipart/form-data；boundary=分割字符串
请求体： 由boundary分割表单项，表单项由Content-Type和Content-Disposition组成
Content-Disposition: form-data 为固定值，表示一个表单元素，name表单字段名（可以重名，例如选择多张图片）， filename，文件初始名称
Content-Type：表示当前的内容的 MIME 类型，是图片还是文本还是二进制数据。
## 请求头 4个- Content-Type: multipart/form-data; boundary=----WebKitFormBoundarygfkSSPeA0dkEB1OD ## 请求体 6个- ------WebKitFormBoundarygfkSSPeA0dkEB1OD Content-Disposition: form-data; name=&#34;f1&#34;; filename=&#34;wallhaven-e7zqro.jpg&#34; Content-Type: image/jpeg ------WebKitFormBoundarygfkSSPeA0dkEB1OD Content-Disposition: form-data; name=&#34;f1&#34;; filename=&#34;wallhaven-eyxzxr.jpg&#34; Content-Type: image/jpeg ------WebKitFormBoundarygfkSSPeA0dkEB1OD-- 服务端   获取到boundary
  合并二进制数据
  根据boundary等规则，取出数据和信息
  function bufferSplit(buffer, delimiter) { let arr = []; let n = 0; // 当分隔符存在时  while ((n = buffer." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://liu-zhi-fei.github.io/posts/%E6%96%87%E4%BB%B6%E4%B8%8A%E4%BC%A0%E6%80%9D%E8%B7%AF%E4%B8%8E%E5%9C%BA%E6%99%AF/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2021-05-03T11:29:27&#43;08:00" />
<meta property="article:modified_time" content="2021-05-03T11:29:27&#43;08:00" /><meta property="og:site_name" content="打工人." />







  </head>
  <body class="dark-theme">
    <div class="container">
      <header class="header">
  <span class="header__inner">
    <a
  href="/"
  class="logo"
  style="text-decoration: none;"
>
  
    <span class="logo__mark"><svg xmlns="http://www.w3.org/2000/svg" class="greater-icon" viewBox="0 0 44 44">
  <path fill="none" d="M15 8l14.729 14.382L15 35.367" />
</svg>
</span>
    <span class="logo__text"
      >hello frizhd</span
    >
    <span class="logo__cursor"></span>
  
</a>

    <span class="header__right">
      
        <nav class="menu">
  <ul class="menu__inner menu__inner--desktop">
    
      
        
          <li><a href="/about">About</a></li>
        
      
        
          <li><a href="/showcase">Showcase</a></li>
        
      
      
      
  </ul>

  <ul class="menu__inner menu__inner--mobile">
    
      
        <li><a href="/about">About</a></li>
      
    
      
        <li><a href="/showcase">Showcase</a></li>
      
    
  </ul>
</nav>

        <span class="menu-trigger">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M0 0h24v24H0z" fill="none" />
            <path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z" />
          </svg>
        </span>
      
      <span class="theme-toggle">
        <svg
  class="theme-toggler"
  width="24"
  height="24"
  viewBox="0 0 48 48"
  fill="none"
  xmlns="http://www.w3.org/2000/svg"
>
  <path
    d="M22 41C32.4934 41 41 32.4934 41 22C41 11.5066 32.4934 3 22
  3C11.5066 3 3 11.5066 3 22C3 32.4934 11.5066 41 22 41ZM7 22C7
  13.7157 13.7157 7 22 7V37C13.7157 37 7 30.2843 7 22Z"
  />
</svg>

      </span>
    </span>
  </span>
</header>


      <div class="content">
        
  
  

  <div class="post">
    <h1 class="post-title">文件上传（思路与场景）</h1>
    <div class="post-meta">
      
        <span class="post-date">
          2021-05-03
        </span>

        
          
        
      

      


      
    </div>

    

    

    <div class="post-content">
      
      <h1 id="文件上传思路与场景">文件上传（思路与场景）</h1>
<h2 id="文件上传规则">文件上传规则</h2>
<h3 id="客户端">客户端</h3>
<p>请求方式: <code>POST</code></p>
<p>请求头: <code>Content-Type：mutipart/form-data；boundary=分割字符串</code></p>
<p>请求体： 由<code>boundary</code>分割表单项，表单项由<code>Content-Type</code>和<code>Content-Disposition</code>组成</p>
<p><code>Content-Disposition: form-data</code> 为固定值，表示一个表单元素，<code>name</code>表单字段名（可以重名，例如选择多张图片）， <code>filename</code>，文件初始名称</p>
<p><code>Content-Type</code>：表示当前的内容的 MIME 类型，是图片还是文本还是二进制数据。</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-http" data-lang="http"><span style="color:#960050;background-color:#1e0010">## 请求头 4个-
</span><span style="color:#960050;background-color:#1e0010">Content-Type: multipart/form-data; boundary=----WebKitFormBoundarygfkSSPeA0dkEB1OD
</span><span style="color:#960050;background-color:#1e0010">## 请求体 6个-
</span><span style="color:#960050;background-color:#1e0010">------WebKitFormBoundarygfkSSPeA0dkEB1OD
</span><span style="color:#960050;background-color:#1e0010">Content-Disposition: form-data; name=&#34;f1&#34;; filename=&#34;wallhaven-e7zqro.jpg&#34;
</span><span style="color:#960050;background-color:#1e0010">Content-Type: image/jpeg
</span><span style="color:#960050;background-color:#1e0010">
</span><span style="color:#960050;background-color:#1e0010">
</span><span style="color:#960050;background-color:#1e0010">------WebKitFormBoundarygfkSSPeA0dkEB1OD
</span><span style="color:#960050;background-color:#1e0010">Content-Disposition: form-data; name=&#34;f1&#34;; filename=&#34;wallhaven-eyxzxr.jpg&#34;
</span><span style="color:#960050;background-color:#1e0010">Content-Type: image/jpeg
</span><span style="color:#960050;background-color:#1e0010">
</span><span style="color:#960050;background-color:#1e0010">
</span><span style="color:#960050;background-color:#1e0010">------WebKitFormBoundarygfkSSPeA0dkEB1OD--
</span></code></pre></div><h3 id="服务端">服务端</h3>
<ul>
<li>
<p>获取到<code>boundary</code></p>
</li>
<li>
<p>合并二进制数据</p>
</li>
<li>
<p>根据<code>boundary</code>等规则，取出数据和信息</p>
</li>
</ul>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript"><span style="color:#66d9ef">function</span> <span style="color:#a6e22e">bufferSplit</span>(<span style="color:#a6e22e">buffer</span>, <span style="color:#a6e22e">delimiter</span>) {
    <span style="color:#66d9ef">let</span> <span style="color:#a6e22e">arr</span> <span style="color:#f92672">=</span> [];
    <span style="color:#66d9ef">let</span> <span style="color:#a6e22e">n</span> <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>;
    <span style="color:#75715e">// 当分隔符存在时
</span><span style="color:#75715e"></span>    <span style="color:#66d9ef">while</span> ((<span style="color:#a6e22e">n</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">buffer</span>.<span style="color:#a6e22e">indexOf</span>(<span style="color:#a6e22e">delimiter</span>)) <span style="color:#f92672">!=</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>) {
        <span style="color:#75715e">// 将第一个分隔符前边的数据添加到数组中
</span><span style="color:#75715e"></span>        <span style="color:#a6e22e">arr</span>.<span style="color:#a6e22e">push</span>(<span style="color:#a6e22e">buffer</span>.<span style="color:#a6e22e">slice</span>(<span style="color:#ae81ff">0</span>, <span style="color:#a6e22e">n</span>));
        <span style="color:#75715e">// 将第一个分隔符后的部分重新赋值给buffer
</span><span style="color:#75715e"></span>        <span style="color:#a6e22e">buffer</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">buffer</span>.<span style="color:#a6e22e">slice</span>(<span style="color:#a6e22e">n</span> <span style="color:#f92672">+</span> <span style="color:#a6e22e">delimiter</span>.<span style="color:#a6e22e">length</span>);
    }
    <span style="color:#75715e">// 将最后的buffer数据添加到数组中
</span><span style="color:#75715e"></span>    <span style="color:#a6e22e">arr</span>.<span style="color:#a6e22e">push</span>(<span style="color:#a6e22e">buffer</span>);
    <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">arr</span>;
}

<span style="color:#66d9ef">let</span> <span style="color:#a6e22e">server</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">http</span>.<span style="color:#a6e22e">createServer</span>((<span style="color:#a6e22e">req</span>, <span style="color:#a6e22e">res</span>) =&gt; {
    <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">req</span>.<span style="color:#a6e22e">url</span> <span style="color:#f92672">==</span> <span style="color:#e6db74">&#34;/upload&#34;</span>) {
        <span style="color:#75715e">// req.headers 包含与当前请求相关的Headers对象
</span><span style="color:#75715e"></span>        <span style="color:#75715e">// 获取分隔符
</span><span style="color:#75715e"></span>        <span style="color:#66d9ef">let</span> <span style="color:#a6e22e">boundary</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;--&#34;</span> <span style="color:#f92672">+</span> <span style="color:#a6e22e">req</span>.<span style="color:#a6e22e">headers</span>[<span style="color:#e6db74">&#39;content-type&#39;</span>].<span style="color:#a6e22e">split</span>(<span style="color:#e6db74">&#34;; &#34;</span>)[<span style="color:#ae81ff">1</span>].<span style="color:#a6e22e">split</span>(<span style="color:#e6db74">&#34;=&#34;</span>)[<span style="color:#ae81ff">1</span>];
        <span style="color:#66d9ef">let</span> <span style="color:#a6e22e">arr</span> <span style="color:#f92672">=</span> [];
        <span style="color:#75715e">// buffer是自定义的一个参数，表示一个二进制的数据
</span><span style="color:#75715e"></span>        <span style="color:#a6e22e">req</span>.<span style="color:#a6e22e">on</span>(<span style="color:#e6db74">&#34;data&#34;</span>, (<span style="color:#a6e22e">buffer</span>) =&gt; {
            <span style="color:#a6e22e">arr</span>.<span style="color:#a6e22e">push</span>(<span style="color:#a6e22e">buffer</span>);
        });
        <span style="color:#75715e">// 因为服务器收到的数据是二进制的，所以需要对数据进行一些处理
</span><span style="color:#75715e"></span>        <span style="color:#a6e22e">req</span>.<span style="color:#a6e22e">on</span>(<span style="color:#e6db74">&#34;end&#34;</span>, () =&gt; {
            <span style="color:#66d9ef">let</span> <span style="color:#a6e22e">buffer</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">Buffer</span>.<span style="color:#a6e22e">concat</span>(<span style="color:#a6e22e">arr</span>); <span style="color:#75715e">// 将二进制数据拼接到一起
</span><span style="color:#75715e"></span>            <span style="color:#75715e">// 1.以分隔符切割
</span><span style="color:#75715e"></span>            <span style="color:#66d9ef">let</span> <span style="color:#a6e22e">res</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">bufferSplit</span>(<span style="color:#a6e22e">buffer</span>, <span style="color:#a6e22e">boundary</span>);
            <span style="color:#75715e">// 2.去掉数组第一个和最后一个null
</span><span style="color:#75715e"></span>            <span style="color:#a6e22e">res</span>.<span style="color:#a6e22e">pop</span>();
            <span style="color:#a6e22e">res</span>.<span style="color:#a6e22e">shift</span>();
            <span style="color:#75715e">// 3.处理每一个元素
</span><span style="color:#75715e"></span>            <span style="color:#a6e22e">res</span>.<span style="color:#a6e22e">forEach</span>((<span style="color:#a6e22e">item</span>) =&gt; {
                <span style="color:#66d9ef">let</span> <span style="color:#a6e22e">buffer</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">item</span>.<span style="color:#a6e22e">slice</span>(<span style="color:#ae81ff">2</span>, <span style="color:#a6e22e">item</span>.<span style="color:#a6e22e">length</span> <span style="color:#f92672">-</span> <span style="color:#ae81ff">2</span>);
                <span style="color:#66d9ef">let</span> <span style="color:#a6e22e">index</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">buffer</span>.<span style="color:#a6e22e">indexOf</span>(<span style="color:#e6db74">&#34;\r\n\r\n&#34;</span>);
                <span style="color:#75715e">// 截取换行后的info
</span><span style="color:#75715e"></span>                <span style="color:#66d9ef">let</span> <span style="color:#a6e22e">info</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">buffer</span>.<span style="color:#a6e22e">slice</span>(<span style="color:#ae81ff">0</span>, <span style="color:#a6e22e">index</span>).<span style="color:#a6e22e">toString</span>();
                <span style="color:#75715e">// 数据
</span><span style="color:#75715e"></span>                <span style="color:#66d9ef">let</span> <span style="color:#a6e22e">data</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">buffer</span>.<span style="color:#a6e22e">slice</span>(<span style="color:#a6e22e">index</span> <span style="color:#f92672">+</span> <span style="color:#ae81ff">4</span>);
                <span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#a6e22e">info</span>, <span style="color:#a6e22e">data</span>);
                <span style="color:#75715e">/*
</span><span style="color:#75715e">                  打印结果类似：
</span><span style="color:#75715e">                  Content-Disposition: form-data; name=&#34;username&#34; &lt;Buffer 6c 79 64 69 61&gt;
</span><span style="color:#75715e">                  Content-Disposition: form-data; name=&#34;psw&#34; &lt;Buffer 61&gt;
</span><span style="color:#75715e">                  Content-Disposition: form-data; name=&#34;file1&#34;; filename=&#34;note.txt&#34;
</span><span style="color:#75715e">                  Content-Type: text/plain &lt;Buffer 61 6a 61 78 20 e5 bc 82 e6 ad a5 6a 61 76 61 73 63 72 69 70 74 e5 92 8c 78 6d 6c 0d 0a 31 20 61 6a 61 78 e4 b8 8d e6 98 af e4 b8 80 e9 97 a8 e6 96 b0 ... 829 more bytes&gt;
</span><span style="color:#75715e">                */</span>
                <span style="color:#75715e">// 普通的数据只有一行，文件有两行
</span><span style="color:#75715e"></span>                <span style="color:#75715e">// 上面已经截取
</span><span style="color:#75715e"></span>                <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">info</span>.<span style="color:#a6e22e">indexOf</span>(<span style="color:#e6db74">&#34;\r\n&#34;</span>) <span style="color:#f92672">!=</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>) {
                    <span style="color:#75715e">// 如果有回车换行，即文件
</span><span style="color:#75715e"></span>                    <span style="color:#66d9ef">let</span> <span style="color:#a6e22e">arr2</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">info</span>.<span style="color:#a6e22e">split</span>(<span style="color:#e6db74">&#34;\r\n&#34;</span>)[<span style="color:#ae81ff">0</span>].<span style="color:#a6e22e">split</span>(<span style="color:#e6db74">&#34;; &#34;</span>);
                    <span style="color:#66d9ef">let</span> <span style="color:#a6e22e">name</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">arr2</span>[<span style="color:#ae81ff">1</span>].<span style="color:#a6e22e">split</span>(<span style="color:#e6db74">&#34;=&#34;</span>)[<span style="color:#ae81ff">1</span>];
                    <span style="color:#a6e22e">name</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">name</span>.<span style="color:#a6e22e">substring</span>(<span style="color:#ae81ff">1</span>, <span style="color:#a6e22e">name</span>.<span style="color:#a6e22e">length</span> <span style="color:#f92672">-</span> <span style="color:#ae81ff">1</span>);
                    <span style="color:#66d9ef">let</span> <span style="color:#a6e22e">filename</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">arr2</span>[<span style="color:#ae81ff">2</span>].<span style="color:#a6e22e">split</span>(<span style="color:#e6db74">&#34;=&#34;</span>)[<span style="color:#ae81ff">1</span>];
                    <span style="color:#a6e22e">filename</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">filename</span>.<span style="color:#a6e22e">substring</span>(<span style="color:#ae81ff">1</span>, <span style="color:#a6e22e">filename</span>.<span style="color:#a6e22e">length</span> <span style="color:#f92672">-</span> <span style="color:#ae81ff">1</span>);
                    <span style="color:#75715e">// 写文件， 前提有文件夹
</span><span style="color:#75715e"></span>                    <span style="color:#a6e22e">fs</span>.<span style="color:#a6e22e">writeFile</span>(<span style="color:#a6e22e">path</span>.<span style="color:#a6e22e">resolve</span>(<span style="color:#a6e22e">__dirname</span>, <span style="color:#e6db74">`../static/uploads/</span><span style="color:#e6db74">${</span><span style="color:#a6e22e">filename</span><span style="color:#e6db74">}</span><span style="color:#e6db74">`</span>), <span style="color:#a6e22e">data</span>, <span style="color:#a6e22e">err</span> =&gt; {
                        <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">err</span>) {
                            <span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#e6db74">&#39;error&#39;</span>, <span style="color:#a6e22e">err</span>);
                        } <span style="color:#66d9ef">else</span> {
                            <span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#e6db74">&#34;upload success&#34;</span>); <span style="color:#75715e">// upload success
</span><span style="color:#75715e"></span>                        }
                    })
                } <span style="color:#66d9ef">else</span> {
                    <span style="color:#75715e">// 没有回车换行，即普通数据
</span><span style="color:#75715e"></span>                    <span style="color:#66d9ef">let</span> <span style="color:#a6e22e">name</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">info</span>.<span style="color:#a6e22e">split</span>(<span style="color:#e6db74">&#34;; &#34;</span>)[<span style="color:#ae81ff">1</span>].<span style="color:#a6e22e">split</span>(<span style="color:#e6db74">&#34;=&#34;</span>)[<span style="color:#ae81ff">1</span>]; <span style="color:#75715e">// 获取name的值
</span><span style="color:#75715e"></span>                    <span style="color:#a6e22e">name</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">name</span>.<span style="color:#a6e22e">substring</span>(<span style="color:#ae81ff">1</span>, <span style="color:#a6e22e">name</span>.<span style="color:#a6e22e">length</span> <span style="color:#f92672">-</span> <span style="color:#ae81ff">1</span>); <span style="color:#75715e">// 从第一个开始截取
</span><span style="color:#75715e"></span>                    <span style="color:#a6e22e">data</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">data</span>.<span style="color:#a6e22e">toString</span>();
                    <span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#a6e22e">name</span> <span style="color:#f92672">+</span> <span style="color:#e6db74">&#34;:&#34;</span> <span style="color:#f92672">+</span> <span style="color:#a6e22e">data</span>);
                    <span style="color:#75715e">/*
</span><span style="color:#75715e">                      打印结果：
</span><span style="color:#75715e">                      username:lydia
</span><span style="color:#75715e">                      psw:aaa
</span><span style="color:#75715e">                    */</span>
                }
            });
        });
    }
});
</code></pre></div><h2 id="文件上传方式">文件上传方式</h2>
<h3 id="form表单上传">form表单上传</h3>
<ul>
<li><code>form</code>必须设置<code>enctype=&quot;multipart/form-data&quot;</code>，<code>input</code>必须设置<code>name</code></li>
<li>页面会刷新，体验差
<ul>
<li>通过<code>iframe</code>，可解决页面整体刷新问题</li>
</ul>
</li>
</ul>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-html" data-lang="html">
&lt;<span style="color:#f92672">form</span> <span style="color:#a6e22e">method</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;post&#34;</span> <span style="color:#a6e22e">action</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;服务器地址&#34;</span> <span style="color:#a6e22e">enctype</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;multipart/form-data&#34;</span>&gt;
    选择文件:&lt;<span style="color:#f92672">input</span> <span style="color:#a6e22e">type</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;file&#34;</span> <span style="color:#a6e22e">name</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;file&#34;</span> /&gt;
    &lt;<span style="color:#f92672">button</span> <span style="color:#a6e22e">type</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;submit&#34;</span>&gt;上 传&lt;/<span style="color:#f92672">button</span>&gt;
&lt;/<span style="color:#f92672">form</span>&gt;
</code></pre></div><h3 id="formdata上传">FormData上传</h3>
<p>借助<code>FormData</code>，通过JS来上传文件</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-html" data-lang="html"><span style="color:#75715e">&lt;!--html--&gt;</span>
&lt;<span style="color:#f92672">div</span>&gt;
    &lt;<span style="color:#f92672">input</span> <span style="color:#a6e22e">type</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;file&#34;</span> <span style="color:#a6e22e">id</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;file&#34;</span> /&gt;
    &lt;<span style="color:#f92672">button</span> <span style="color:#a6e22e">type</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;button&#34;</span> <span style="color:#a6e22e">id</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;submit&#34;</span>&gt;上 传&lt;/<span style="color:#f92672">button</span>&gt;
&lt;/<span style="color:#f92672">div</span>&gt;
<span style="color:#75715e">&lt;!--javascript--&gt;</span>
<span style="color:#75715e">&lt;!--添加事件，点击时触发--&gt;</span>
&lt;<span style="color:#f92672">script</span>&gt;
    <span style="color:#75715e">// FileList对象，类数组对象
</span><span style="color:#75715e"></span>    <span style="color:#66d9ef">let</span> <span style="color:#a6e22e">files</span> <span style="color:#f92672">=</span> document.<span style="color:#a6e22e">getElementById</span>(<span style="color:#e6db74">&#39;file&#39;</span>).<span style="color:#a6e22e">files</span>
    <span style="color:#75715e">// 构造FormData对象
</span><span style="color:#75715e"></span>    <span style="color:#66d9ef">let</span> <span style="color:#a6e22e">formData</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> <span style="color:#a6e22e">FormData</span>()
    <span style="color:#75715e">// 每项都是File对象，Blob的子类
</span><span style="color:#75715e"></span>    <span style="color:#66d9ef">for</span> (<span style="color:#66d9ef">let</span> <span style="color:#a6e22e">file</span> <span style="color:#66d9ef">of</span> <span style="color:#a6e22e">files</span>) {
        <span style="color:#75715e">// 效果相当于input中的name
</span><span style="color:#75715e"></span>        <span style="color:#75715e">// 表单项中的 name
</span><span style="color:#75715e"></span>        <span style="color:#75715e">// Content-Disposition: form-data; name=&#34;file&#34;;
</span><span style="color:#75715e"></span>        <span style="color:#a6e22e">formData</span>.<span style="color:#a6e22e">append</span>(<span style="color:#e6db74">&#39;file&#39;</span>, <span style="color:#a6e22e">file</span>)
    }
    <span style="color:#66d9ef">let</span> <span style="color:#a6e22e">xhr</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> <span style="color:#a6e22e">XMLHttpRequest</span>();
    <span style="color:#a6e22e">xhr</span>.<span style="color:#a6e22e">open</span>(<span style="color:#e6db74">&#39;POST&#39;</span>, <span style="color:#e6db74">&#39;http://localhost:3000/&#39;</span>, <span style="color:#66d9ef">true</span>);
    <span style="color:#75715e">// 传入ForData对象，则Content-Type默认就是: multipart/form-data; 
</span><span style="color:#75715e"></span>    <span style="color:#a6e22e">xhr</span>.<span style="color:#a6e22e">send</span>(<span style="color:#a6e22e">fd</span>);
    <span style="color:#a6e22e">xhr</span>.<span style="color:#a6e22e">onreadystatechange</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">function</span> () {
        <span style="color:#66d9ef">if</span> (<span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">readyState</span> <span style="color:#f92672">==</span> <span style="color:#ae81ff">4</span> <span style="color:#f92672">&amp;&amp;</span> <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">status</span> <span style="color:#f92672">==</span> <span style="color:#ae81ff">200</span>) {
            <span style="color:#a6e22e">alert</span>(<span style="color:#e6db74">&#39;上传成功&#39;</span>);
        }
    }
&lt;/<span style="color:#f92672">script</span>&gt;
</code></pre></div><h3 id="取消上传">取消上传</h3>
<ul>
<li><code>readyState</code>会在<code>onreadystatechange</code>中赋值为<code>4</code>，事件结束后赋值为<code>0</code></li>
</ul>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript"><span style="color:#a6e22e">xhr</span>.<span style="color:#a6e22e">abort</span>()
</code></pre></div><h2 id="多种文件上传需求">多种文件上传需求</h2>
<p>文件上传核心逻辑</p>
<ol>
<li>
<p>获取文件数据</p>
</li>
<li>
<p>创建HTTP请求，写入数据</p>
</li>
<li>
<p>发送请求，监听相关事件</p>
</li>
</ol>
<h3 id="多文件上传">多文件上传</h3>
<p>设置<code>input</code>中的<code>multiple</code></p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-html" data-lang="html">
&lt;<span style="color:#f92672">div</span>&gt;
    &lt;<span style="color:#f92672">input</span> <span style="color:#a6e22e">type</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;file&#34;</span> <span style="color:#a6e22e">id</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;file&#34;</span> <span style="color:#a6e22e">name</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;file&#34;</span> <span style="color:#a6e22e">multiple</span> /&gt;
&lt;/<span style="color:#f92672">div</span>&gt;

&lt;<span style="color:#f92672">script</span>&gt;
    <span style="color:#75715e">// 文件列表，不设置multiple，也是列表，但是length为1
</span><span style="color:#75715e"></span>    <span style="color:#66d9ef">let</span> <span style="color:#a6e22e">fileList</span> <span style="color:#f92672">=</span> document.<span style="color:#a6e22e">getElementById</span>(<span style="color:#e6db74">&#39;file&#39;</span>).<span style="color:#a6e22e">files</span>;
    <span style="color:#75715e">// 构造FormData对象
</span><span style="color:#75715e"></span>    <span style="color:#66d9ef">let</span> <span style="color:#a6e22e">fd</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> <span style="color:#a6e22e">FormData</span>();
    <span style="color:#66d9ef">for</span> (<span style="color:#66d9ef">let</span> <span style="color:#a6e22e">i</span> <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>; <span style="color:#a6e22e">i</span> <span style="color:#f92672">&lt;</span> <span style="color:#a6e22e">fileList</span>.<span style="color:#a6e22e">length</span>; <span style="color:#a6e22e">i</span><span style="color:#f92672">++</span>) {
        <span style="color:#a6e22e">fd</span>.<span style="color:#a6e22e">append</span>(<span style="color:#e6db74">&#39;file&#39;</span>, <span style="color:#a6e22e">fileList</span>[<span style="color:#a6e22e">i</span>]);<span style="color:#75715e">//支持多文件上传
</span><span style="color:#75715e"></span>    }
    <span style="color:#75715e">// 省略
</span><span style="color:#75715e"></span>    <span style="color:#75715e">// 一次性全发， 或则  多个请求单文件并发
</span><span style="color:#75715e"></span>    <span style="color:#a6e22e">xhr</span>.<span style="color:#a6e22e">send</span>(<span style="color:#a6e22e">fd</span>)
&lt;/<span style="color:#f92672">script</span>&gt;
</code></pre></div><h3 id="文件上传进度">文件上传进度</h3>
<p>监听<code>XHR.upload.onprogress</code>即可（必须在<code>open</code>方法前监听）</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript"><span style="color:#66d9ef">let</span> <span style="color:#a6e22e">xhr</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> <span style="color:#a6e22e">XMLHttpRequest</span>();
<span style="color:#75715e">// 监听文件上传
</span><span style="color:#75715e"></span><span style="color:#a6e22e">xhr</span>.<span style="color:#a6e22e">upload</span>.<span style="color:#a6e22e">onprogress</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">function</span> (<span style="color:#a6e22e">e</span>) {
    <span style="color:#75715e">// 字节数是可计算的
</span><span style="color:#75715e"></span>    <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">e</span>.<span style="color:#a6e22e">lengthComputable</span>) {
        <span style="color:#75715e">//                    已发送的     总大小
</span><span style="color:#75715e"></span>        <span style="color:#66d9ef">let</span> <span style="color:#a6e22e">percentComplete</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">e</span>.<span style="color:#a6e22e">loaded</span> <span style="color:#f92672">/</span> <span style="color:#a6e22e">e</span>.<span style="color:#a6e22e">total</span> <span style="color:#f92672">*</span> <span style="color:#ae81ff">100</span>;
        <span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#e6db74">&#39;进度&#39;</span>, <span style="color:#a6e22e">percentComplete</span>)
    }
}

</code></pre></div><h3 id="文件预览">文件预览</h3>
<p>通过<code>window.URL.createObjectURL</code></p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-html" data-lang="html">
&lt;<span style="color:#f92672">div</span>&gt;
    &lt;<span style="color:#f92672">input</span> <span style="color:#a6e22e">type</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;file&#34;</span> <span style="color:#a6e22e">id</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;file&#34;</span> <span style="color:#a6e22e">name</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;file&#34;</span> <span style="color:#a6e22e">multiple</span> /&gt;
&lt;/<span style="color:#f92672">div</span>&gt;

&lt;<span style="color:#f92672">script</span>&gt;
    <span style="color:#75715e">// 文件列表，不设置multiple，也是列表，但是length为1
</span><span style="color:#75715e"></span>    <span style="color:#66d9ef">let</span> <span style="color:#a6e22e">fileList</span> <span style="color:#f92672">=</span> document.<span style="color:#a6e22e">getElementById</span>(<span style="color:#e6db74">&#39;file&#39;</span>).<span style="color:#a6e22e">files</span>;
    <span style="color:#75715e">// 构造FormData对象
</span><span style="color:#75715e"></span>    <span style="color:#66d9ef">let</span> <span style="color:#a6e22e">fd</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> <span style="color:#a6e22e">FormData</span>();
    <span style="color:#66d9ef">for</span> (<span style="color:#66d9ef">let</span> <span style="color:#a6e22e">i</span> <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>; <span style="color:#a6e22e">i</span> <span style="color:#f92672">&lt;</span> <span style="color:#a6e22e">fileList</span>.<span style="color:#a6e22e">length</span>; <span style="color:#a6e22e">i</span><span style="color:#f92672">++</span>) {
        <span style="color:#66d9ef">let</span> <span style="color:#a6e22e">file</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">fileList</span>[<span style="color:#a6e22e">i</span>]
        <span style="color:#a6e22e">fd</span>.<span style="color:#a6e22e">append</span>(<span style="color:#e6db74">&#39;file&#39;</span>, <span style="color:#a6e22e">file</span>);<span style="color:#75715e">//支持多文件上传
</span><span style="color:#75715e"></span>        <span style="color:#66d9ef">var</span> <span style="color:#a6e22e">img</span> <span style="color:#f92672">=</span> document.<span style="color:#a6e22e">createElement</span>(<span style="color:#e6db74">&#39;img&#39;</span>);
        <span style="color:#a6e22e">img</span>.<span style="color:#a6e22e">src</span> <span style="color:#f92672">=</span> window.<span style="color:#a6e22e">URL</span>.<span style="color:#a6e22e">createObjectURL</span>(<span style="color:#a6e22e">file</span>);
        <span style="color:#a6e22e">img</span>.<span style="color:#a6e22e">onload</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">function</span> () {
            <span style="color:#75715e">//清除内存
</span><span style="color:#75715e"></span>            window.<span style="color:#a6e22e">URL</span>.<span style="color:#a6e22e">revokeObjectURL</span>(<span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">src</span>);
        }
        document.<span style="color:#a6e22e">body</span>.<span style="color:#a6e22e">appendChild</span>(<span style="color:#a6e22e">img</span>)
    }
    <span style="color:#75715e">// 省略
</span><span style="color:#75715e"></span>&lt;/<span style="color:#f92672">script</span>&gt;
</code></pre></div><h3 id="拖拽上传">拖拽上传</h3>
<p>通过<code>drop</code>和<code>drag</code>来实现</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript">document.<span style="color:#a6e22e">addEventListener</span>(<span style="color:#e6db74">&#34;dragover&#34;</span>, <span style="color:#66d9ef">function</span> (<span style="color:#a6e22e">e</span>) {
    <span style="color:#a6e22e">e</span>.<span style="color:#a6e22e">preventDefault</span>();
});
document.<span style="color:#a6e22e">addEventListener</span>(<span style="color:#e6db74">&#34;drop&#34;</span>, <span style="color:#66d9ef">function</span> (<span style="color:#a6e22e">e</span>) {
    <span style="color:#a6e22e">e</span>.<span style="color:#a6e22e">preventDefault</span>();
    <span style="color:#75715e">//获取拖拽中的文件对象
</span><span style="color:#75715e"></span>    <span style="color:#66d9ef">let</span> <span style="color:#a6e22e">fileList</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">e</span>.<span style="color:#a6e22e">dataTransfer</span>.<span style="color:#a6e22e">files</span>; 
    <span style="color:#75715e">// 获取到File，自由操作
</span><span style="color:#75715e"></span>});
</code></pre></div><h3 id="粘贴上传">粘贴上传</h3>
<p>监听<code>paste</code>事件，<code>clipboardData</code>获取文件</p>
<ul>
<li>目前只能获取到1个文件，Windows可能只获取到路径</li>
</ul>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript"><span style="color:#75715e">// 2种方法，但是都只能获取到1个文件，无法获取多个
</span><span style="color:#75715e"></span><span style="color:#a6e22e">div</span>.<span style="color:#a6e22e">addEventListener</span>(<span style="color:#e6db74">&#39;paste&#39;</span>, <span style="color:#66d9ef">function</span> (<span style="color:#a6e22e">e</span>) {
    <span style="color:#66d9ef">let</span> <span style="color:#a6e22e">items</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">e</span>.<span style="color:#a6e22e">clipboardData</span>.<span style="color:#a6e22e">items</span>;
    <span style="color:#66d9ef">for</span> (<span style="color:#66d9ef">let</span> <span style="color:#a6e22e">i</span> <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>; <span style="color:#a6e22e">i</span> <span style="color:#f92672">&lt;</span> <span style="color:#a6e22e">items</span>.<span style="color:#a6e22e">length</span>; <span style="color:#a6e22e">i</span><span style="color:#f92672">++</span>) {
        <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">items</span>[<span style="color:#a6e22e">i</span>].<span style="color:#a6e22e">kind</span> <span style="color:#f92672">===</span> <span style="color:#e6db74">&#34;file&#34;</span>) {
            <span style="color:#75715e">// 文件
</span><span style="color:#75715e"></span>            <span style="color:#66d9ef">let</span> <span style="color:#a6e22e">file</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">items</span>[<span style="color:#a6e22e">i</span>].<span style="color:#a6e22e">getAsFile</span>();
        }
    }
    <span style="color:#66d9ef">var</span> <span style="color:#a6e22e">files</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">e</span>.<span style="color:#a6e22e">clipboardData</span>.<span style="color:#a6e22e">files</span>;
    <span style="color:#66d9ef">for</span> (<span style="color:#66d9ef">let</span> <span style="color:#a6e22e">i</span> <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>; <span style="color:#a6e22e">i</span> <span style="color:#f92672">&lt;</span> <span style="color:#a6e22e">files</span>.<span style="color:#a6e22e">length</span>; <span style="color:#a6e22e">i</span><span style="color:#f92672">++</span>) {
        <span style="color:#75715e">// 文件
</span><span style="color:#75715e"></span>        <span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#a6e22e">files</span>[<span style="color:#a6e22e">i</span>])
    }
});
</code></pre></div><h2 id="大文件上传">大文件上传</h2>
<p>另写一篇<a href="%E5%A4%A7%E6%96%87%E4%BB%B6%E4%B8%8A%E4%BC%A0%EF%BC%88%E5%88%87%E7%89%87%EF%BC%8C%E6%96%AD%E7%82%B9%E7%BB%AD%E4%BC%A0%EF%BC%8C%E5%B9%B6%E5%8F%91%EF%BC%8C%E8%BF%9B%E5%BA%A6%EF%BC%89.md">大文件上传</a></p>

    </div>
    
      
        <div class="pagination">
          <div class="pagination__title">
            <span class="pagination__title-h"
              >Read other posts</span
            >
            <hr />
          </div>
          <div class="pagination__buttons">
            
              <span class="button previous">
                <a href="https://liu-zhi-fei.github.io/posts/%E7%96%91%E9%9A%BE%E6%9D%82%E7%97%87mac%E6%96%87%E4%BB%B6%E5%A4%B9.ds_store%E5%AF%BC%E8%87%B4node%E5%90%88%E5%B9%B6%E6%96%87%E4%BB%B6%E5%A4%B1%E8%B4%A5/">
                  <span class="button__icon">←</span>
                  <span class="button__text">【疑难杂症】mac文件夹.DS_Store，导致node合并文件失败</span>
                </a>
              </span>
            
            
          </div>
        </div>
      
    

    
      
        

      
    
  </div>

      </div>

      
        <footer class="footer">
  <div class="footer__inner">
    
      <a
  href="/"
  class="logo"
  style="text-decoration: none;"
>
  
    <span class="logo__mark"><svg xmlns="http://www.w3.org/2000/svg" class="greater-icon" viewBox="0 0 44 44">
  <path fill="none" d="M15 8l14.729 14.382L15 35.367" />
</svg>
</span>
    <span class="logo__text"
      >hello frizhd</span
    >
    <span class="logo__cursor"></span>
  
</a>

      <div class="copyright">
        <span
          >© 2021 Powered by
          <a href="https://gohugo.io" target="_blank" rel="noopener">Hugo</a></span
        >
        <span
          >Theme created by
          <a href="https://twitter.com/panr" target="_blank" rel="noopener">panr</a></span
        >
      </div>
    
  </div>
</footer>

<script src="https://liu-zhi-fei.github.io/assets/main.js"></script>
<script src="https://liu-zhi-fei.github.io/assets/prism.js"></script>


      
    </div>

    
  </body>
</html>
